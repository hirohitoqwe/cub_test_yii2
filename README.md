# Тестовое задание от компании КУБ

## Задание 1.
```
Выполнять задание с использованием фреймворка Yii2.
Написать приложение с авторизацией\регистрацией пользователей.
Создать несколько таблиц и заполнить тестовыми данными.
При авторизации вывести навигационную панель с кнопками, по нажатию на которые
выводятся данные из созданных таблиц.
Учесть, что у пользователей должны быть роли - количество ролей неважно, однако важно,
чтобы была роль Админ.
Если пользователь авторизован как Админ, то вывести дополнительно в навигационную
панель таблицу с пользователями.
Дополнительно.
Для пользователя Админ реализовать добавление\редактирование данных.
Два варианта выполнения:
A) простой - без особых условий, полная свобода выбора реализации;
B) усложненный - выполнить задание с использованием динамических баз данных,
которые создаются под каждого пользователя с определенным набором таблиц.
```

### Конфигурация:

- Поменяйте файл config/db.php под себя.
- Запустите миграции с помощью команды `php yii migrate`
- Стартаните проект с помощью команды `php yii serve`

## Задание 2.
```
Написать 2 варианта SQL запроса с использованием JOIN и вложенным запросом. Описать в
чем особенность использования JOIN
book (id, title)
author (id, full_name)
book_to_author (id, book_id, author_id)
Вывести список: Название книги, Количество авторов книги, Имена авторов книги через “,”
Упорядочить по возрастанию количества авторов.
```
Особенность использования JOIN  в том, что позволяет объединить данные из нескольких таблиц
по определенным условиям, что позволяет составлять более точные и сложные запросы.

~~~~sql
SELECT title, COUNT(full_name) AS authors_count, GROUP_CONCAT(full_name, ",") AS authors 
FROM book INNER JOIN book_to_author ON book.id = book_to_author.book_id 
INNER JOIN author ON author.id = book_to_author.author_id
GROUP BY title ORDER BY authors_count ASC;
~~~~

~~~~sql
WITH authors AS (
    SELECT book_id, full_name FROM book_to_author
    JOIN author ON (book_to_author.author_id = author.id)
)
SELECT title,
       (SELECT count(*) FROM authors WHERE book_id=book.id ) as authors_count,
       (SELECT group_concat(full_name, ', ') FROM authors
        WHERE book_id = book.id) as authors_name
FROM book
GROUP BY book.id;
~~~~

## Задание 3.
```
Задача. Есть: 6 котлет; 1 сковородка.
На сковородке помещается только 4 котлеты. Прожаривать котлеты нужно по 1 минуте с
каждой стороны.
Сколько нужно времени, чтобы пожарить 6 котлет?
```
Минимум понадобится 3 минуты. Сначала жарим 4 штуки, спустя минуту снимаем 
2 и переворачиваем другие 2, параллельно кладя оставшиеся 2 штуки (те,которые не были задействованы ранее). 
Спустя минуту снимаем 2 готовые, переворачиваем две на сковородке и кладем 2 которые недожарили.